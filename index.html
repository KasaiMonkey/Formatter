<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Copy Code to Clipboard with Non-Breaking Spaces</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        button {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            background-color: #4CAF50;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        #notification {
            margin-top: 10px;
            color: green;
            display: none; /* Hide the notification initially */
        }
        textarea {
            width: 100%;
            height: 100px; /* Adjust height as needed */
            margin-top: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-family: monospace; /* Use monospace font for better code display */
        }
    </style>
</head>
<body>

    <h1>Masaya's Code Snippet To HTML Converter</h1>
    
    <!-- Input Field -->
    <textarea id="inputField" placeholder="Type your code here..."></textarea>
    
    <button id="replaceButton">Convert To Tab Spaces &nbsp;</button>
    <button id="copyButton">Convert Code To HTML</button>
    <div id="notification">Text copied to clipboard!</div> <!-- Notification message -->

    <script>
        document.getElementById('replaceButton').addEventListener('click', function() {
            // Get the text from the input field
            var inputText = document.getElementById('inputField').value;

            // Replace tabs with &nbsp; and spaces with &nbsp;
            var replacedText = inputText.replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;') // Replace each tab with four &nbsp;
                                          .replace(/ /g, '&nbsp;'); // Replace spaces with &nbsp;

            // Update the input field with the replaced text
            document.getElementById('inputField').value = replacedText;
        });

        document.getElementById('copyButton').addEventListener('click', function() {
            // Variables for the lines to copy
            var lineToCopy = `<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">`;
            var lineToCopy2 = `<script src="//cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></scr`;
            var lineToCopy2b = 'ipt>';
            var lineToCopy3 = '<pre><code class="language-C#">';
            var endLine1 = `</code></pre>`;
            var endLine2 = `<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/go.min.js"></scr`;
            var endLine2b = `ipt>`;
            var endLine3 = `<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></scr`;
            var endLine3b = `ipt>`;
            var endLine4 = `<script src="//cdn.jsdelivr.net/npm/highlightjs-line-numbers.js@2.8.0/dist/highlightjs-line-numbers.min.js"></scr`;
            var endLine4b = `ipt>`;
            var endLine5 = `<script>hljs.highlightAll();</scr`;
            var endLine5b = `ipt>`;
            var endLine6 = `<script>hljs.initLineNumbersOnLoad({startFrom: 1});</scr`;
            var endLine6b = `ipt>`;

            // Get the text from the input field
            var inputText = document.getElementById('inputField').value;

            // Create a temporary textarea element to help copy the text
            var tempTextArea = document.createElement("textarea");
            tempTextArea.value = lineToCopy + '\n' + lineToCopy2 + lineToCopy2b + '\n' + 
                                  lineToCopy3 + inputText + '\n' +
                                  endLine1 + '\n' +
                                  endLine2 + endLine2b + '\n' +
                                  endLine3 + endLine3b + '\n' +
                                  endLine4 + endLine4b + '\n' +
                                  endLine5 + endLine5b + '\n' +
                                  endLine6 + endLine6b; 
            document.body.appendChild(tempTextArea); // Append it to the body
            tempTextArea.select(); // Select the text
            document.execCommand("copy"); // Execute the copy command
            document.body.removeChild(tempTextArea); // Remove the temporary textarea

            // Show notification when copied
            var notification = document.getElementById('notification');
            notification.style.display = 'block'; // Show the notification
            notification.textContent = "Text copied to clipboard!";
        });
    </script>

</body>
</html>
